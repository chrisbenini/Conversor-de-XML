<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="ConversorNFe.App.SelecionarColunasWindow"
        Icon="avares://ConversorNFe.App/recursos/icone/app.ico"
        Width="980" Height="720"
        MinWidth="900" MinHeight="650"
        WindowStartupLocation="CenterOwner"
        Background="#0B0F14"
        Title="Power Query — Selecionar linhas">

  <Window.Styles>

    <!-- Estilo padrão dos botões -->
    <Style Selector="Button">
      <Setter Property="FontSize" Value="13"/>
      <Setter Property="FontWeight" Value="SemiBold"/>
      <Setter Property="Padding" Value="14,10"/>
      <Setter Property="CornerRadius" Value="10"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Background" Value="#334155"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="HorizontalContentAlignment" Value="Center"/>
      <Setter Property="VerticalContentAlignment" Value="Center"/>
    </Style>

    <!-- Botão verde (principal) -->
    <Style Selector="Button.primary">
      <Setter Property="Background" Value="#16A34A"/>
    </Style>

    <!-- Botão azul (ação secundária) -->
    <Style Selector="Button.secondary">
      <Setter Property="Background" Value="#1D4ED8"/>
    </Style>

    <!-- Botão neutro (cinza) -->
    <Style Selector="Button.ghost">
      <Setter Property="Background" Value="#475569"/>
    </Style>

    <!-- Efeito hover -->
    <Style Selector="Button:pointerover">
      <Setter Property="Opacity" Value="0.92"/>
    </Style>

    <!-- Efeito clique -->
    <Style Selector="Button:pressed">
      <Setter Property="Opacity" Value="0.85"/>
    </Style>

    <!-- TextBox do filtro (tema escuro) -->
    <Style Selector="TextBox">
      <Setter Property="Background" Value="#0F172A"/>
      <Setter Property="Foreground" Value="#E5E7EB"/>
      <Setter Property="BorderBrush" Value="#334155"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="CornerRadius" Value="12"/>
      <Setter Property="Padding" Value="14,11"/>
      <Setter Property="FontSize" Value="13"/>
      <Setter Property="CaretBrush" Value="#93C5FD"/>
    </Style>

    <!-- Borda do TextBox ao passar o mouse -->
    <Style Selector="TextBox:pointerover">
      <Setter Property="BorderBrush" Value="#60A5FA"/>
    </Style>

    <!-- Borda do TextBox quando está focado -->
    <Style Selector="TextBox:focus">
      <Setter Property="BorderBrush" Value="#3B82F6"/>
      <Setter Property="Background" Value="#0B1220"/>
    </Style>

    <!-- ListBox sem borda/painel branco -->
    <Style Selector="ListBox">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
    </Style>

    <!-- Espaçamento de cada item da lista -->
    <Style Selector="ListBoxItem">
      <Setter Property="Padding" Value="0"/>
      <Setter Property="Margin" Value="0,4"/>
    </Style>

  </Window.Styles>

  <!-- Layout geral: topo (filtro), meio (lista), rodapé (botões) -->
  <Grid Margin="22" RowDefinitions="Auto,*,Auto">

    <!-- TOPO: título + dica + filtro -->
    <Border Grid.Row="0"
            Background="#111827"
            CornerRadius="18"
            Padding="16"
            Margin="0,0,0,12">
      <StackPanel Spacing="10">

        <!-- Título da tela -->
        <TextBlock x:Name="TxtTitulo"
                   Text="Selecione as linhas que deseja exportar"
                   FontSize="16"
                   FontWeight="Bold"
                   Foreground="White"/>

        <!-- Dica de como filtrar -->
        <TextBlock Text="Dica: use o filtro para achar tags (ex: &lt;det&gt;, &lt;emit&gt;, vProd, xProd...)"
                   FontSize="12"
                   Foreground="#A8B3CF"/>

        <!-- Campo de busca/filtro -->
        <TextBox x:Name="TxtFiltro"
                 Watermark="Digite para filtrar..."/>

      </StackPanel>
    </Border>

    <!-- MEIO: lista com checkbox por linha -->
    <Border Grid.Row="1"
            Background="#0B1220"
            CornerRadius="18"
            Padding="10">
      <ListBox x:Name="Lista">
        <ListBox.ItemTemplate>
          <DataTemplate>
            <!-- Card de cada linha -->
            <Border Background="#0A162A"
                    CornerRadius="12"
                    Padding="12">
              <!-- Checkbox marca/desmarca a linha -->
              <CheckBox IsChecked="{Binding IsChecked}"
                        Foreground="#C7D2FE"
                        FontSize="13"
                        HorizontalAlignment="Stretch">
                <!-- Texto exibido da linha -->
                <TextBlock Text="{Binding Display}"
                           TextWrapping="Wrap"
                           Foreground="#C7D2FE"/>
              </CheckBox>
            </Border>
          </DataTemplate>
        </ListBox.ItemTemplate>
      </ListBox>
    </Border>

    <!-- RODAPÉ: ações rápidas -->
    <Border Grid.Row="2"
            Background="#111827"
            CornerRadius="18"
            Padding="14"
            Margin="0,12,0,0">

      <Grid ColumnDefinitions="Auto,Auto,*,Auto,Auto">

        <!-- Marca tudo -->
        <Button x:Name="BtnMarcarTudo"
                Classes="secondary"
                Content="Marcar tudo"
                Margin="0,0,10,0"/>

        <!-- Desmarca tudo -->
        <Button x:Name="BtnDesmarcarTudo"
                Grid.Column="1"
                Classes="ghost"
                Content="Desmarcar tudo"
                Margin="0,0,10,0"/>

        <!-- Espaçador (empurra botões pra direita) -->
        <Border Grid.Column="2"/>

        <!-- Cancela e volta -->
        <Button x:Name="BtnCancelar"
                Grid.Column="3"
                Classes="ghost"
                Content="Cancelar"
                Margin="0,0,10,0"/>

        <!-- Confirma seleção -->
        <Button x:Name="BtnOk"
                Grid.Column="4"
                Classes="primary"
                Content="OK"/>

      </Grid>
    </Border>

  </Grid>

</Window>
